

go to teams can find more information
UU Science Bootcamp Series

[day 1]

data source

https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmicrosoftapc.sharepoint.com%2Fteams%2FCLU705-UUScienceBootcampSeries%2F_layouts%2FOneNote.aspx%3Fid%3D%252Fteams%252FCLU705-UUScienceBootcampSeries%252FShared%2520Documents%252FUU%2520Science%2520Bootcamp%2520Series%252FMSAI%2520UU%2520Science%2520Team%2520Bootcamp%26wd%3Dtarget%2528April%25202020%2520Content.one%257C8C11BB3A-2598-488C-9089-34D99634D329%252F%2529&data=04%7C01%7CChiehChun.Chang%40microsoft.com%7Ccb7e0f527caf433e18d008d7e7b97f0c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637232656340152089%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C-1&sdata=ACc8qjaCyy%2F%2BPzq465plM%2F6FfQghUBzHYrb2abhtI7Q%3D&reserved=0

<overview>


cortini


MSO/ sharepoint :
   office / sharepoint.docm

what s+a means
    teams mobile search / outlook mobile search
    
    cortini + single shot actions
       cortini 不太懂 但是沒有files
    
MSB 是可能的data 來源
    msb 因該沒有file answer


files domian roadmap
    <search>
    FY 21 MSO/ office.com
    OWA / outlook mobiel FY 21
    
    <voice skill>
    teams mobile Q4
    cow Q4
    
    kinston FY 21
 
    



also plan for each model

<101>
slot carry over

good picutre


tool
ngram generating comment

default features
.def has d
can read, good

E:\fileAnswer_data_synthesis\CMF_training\output_adhoc_slot_05062020v2\slot_lccrf\tmp\build_tmp\slot
50:00 has example
https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmicrosoftapc.sharepoint.com%2Fteams%2FCLU705-UUScienceBootcampSeries%2F_layouts%2FOneNote.aspx%3Fid%3D%252Fteams%252FCLU705-UUScienceBootcampSeries%252FShared%2520Documents%252FUU%2520Science%2520Bootcamp%2520Series%252FMSAI%2520UU%2520Science%2520Team%2520Bootcamp%26wd%3Dtarget%2528Planning.one%257CA745A153-EA3F-4B6E-8F16-9163BFE64932%252F%2529&data=04%7C01%7CChiehChun.Chang%40microsoft.com%7C7185b1ddfd424e04d57308d7ee289205%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637239730337331959%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C-1&sdata=2TTmmfjB0ZBZvSN%2B5k9wYfaZKu9t0lIDxGi1RAab85s%3D&reserved=0


lexcion 的feature name
PREFIX.slot.mlg.lexicon_featureNames.txt

dense or spare


calendar trainng aether files


AE365
data can from cosmos (but for demo purpose)
but future is to use heron project data to do compliant trainnig 



<design schema design principles>

conflict examples 

raise to pm


<mlg>
having import defintion
有import 的說明  這個很少
a good template

bucketized level can be used

timex entity level to query level

tag feature
string feature
  5 個的format說明
  
  string 就是字串  tag 是number

body stream 會有說 tag feutare 數目 , string feature number


pipeline
  SVM 幾steps
  
  
memory
   <good discussion>
   deep learning model , memory
   loop the same 
    
   if input is different
       might duplicate memory consumption
    
   how to lookup cache
   
特書featurizers 有mapping 到analyzed query
   eg: slot,  intent domain 
   some how transformation
   
   
<model best practice>   
  calendar deep dive
  
      selection section
      
  take common domain as input
      there is a featurizer being used 
      
      
  people
      https://microsoftapc.sharepoint.com/teams/CLU705-UUScienceBootcampSeries/_layouts/15/Doc.aspx?sourcedoc={09203e35-0832-4c48-9f93-2909076b9b25}&action=edit&wd=target%28April%202020%20Content.one%7C8c11bb3a-2598-488c-9089-34d99634d329%2FScenario%20People%7C2b187a80-328c-4054-9468-15fbec3f35dd%2F%29
      video
      09:32
      https://web.microsoftstream.com/video/d72ca4ff-0400-96d0-f86a-f1ea8b2b85ea
      
      entity lexicon
      
      有一些randomization 的過程
      
      目的是:
      已知tenant lexicon,  希望在trainnig fit 到lexicon  0 , 0,1 , 0.2.....1.o  amount 0, 100, 200, 300 , 400....
      台turn model 但是這個是已知tenant lexicon
      
      
      
   minwoo
      aether workspace
   
      aether using CMF
      
      perf  evaluation (by aether)
          more conservation latency  since user machine is more powerful
          different machines then you can collect more different data
      some good aether good models
      
      
      haoda question not fully understand
  <AJ how to write FST>  
  
      https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmicrosoftapc.sharepoint.com%2Fteams%2FCLU705-UUScienceBootcampSeries%2F_layouts%2FOneNote.aspx%3Fid%3D%252Fteams%252FCLU705-UUScienceBootcampSeries%252FShared%2520Documents%252FUU%2520Science%2520Bootcamp%2520Series%252FMSAI%2520UU%2520Science%2520Team%2520Bootcamp%26wd%3Dtarget%2528Planning.one%257CA745A153-EA3F-4B6E-8F16-9163BFE64932%252FApril%25202020%257C13FF0B30-1E6A-4036-88F5-99FACF7325D6%252F%2529&data=04%7C01%7CChiehChun.Chang%40microsoft.com%7Ccb7e0f527caf433e18d008d7e7b97f0c%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637232656340152089%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C-1&sdata=LNzo6xE0Q9wrkYXS%2B2whlDndj%2FdadPInoBvX%2FuPZQ7k%3D&reserved=0
      context discussion
      
      json compiles
      
      transduer mode
        preprocessor
        replacement by fst
        
        pmatch to do 
        可以cusotomize 自己要的
        
      list()  function
      
      ins()  function
        for lexcion packing
        can be used
  <zhiguo query expansion>
  
      除了synthetic data 還有別的可以用
      
      query expansion and lexicon
         跟我的依樣
         
      
      query 
          simialr word synnopsm
          wordnet . gloVe , LAMA
          
              wordnet
              不能只給nono or verb
          nltk
          
          glove
          
          mask
          LAMA open source
          
          
          using similaritiy calcultion
          to filter queries
          
          verb避免replace
          有辦法可以看是不是verb
          
          
          usng GPT-2 tp calucate sentence perpeleixity
          using cosine similarty to calcuate sentene similarity
          
          
       random word replacement
          for negative queries
          
          where is xxxx
          
          
      another microsoft module
      [4:24 PM] Yuancheng Tu
    
Zhiguo, the WNsynonym Augmentation aether module I mentioned is here: eece1109-70ff-4e1d-ac81-fbd87ede79ec
The inputs to this module are:


	
	
Generic TSV file for unaugmented data;
	
	
	
Float parameter alpha, which controls the percentage of the words in each sentence to be replaced (0.2 means you want to replace 0.2 percentage of words in each sentence);
	
	
	
Int parameter "num_aug" to indicate how many augmented sentences are needed (default is two, you can augment as many as you want) 
	


(2 liked)​[4:27 PM] Yuancheng Tu
    
It is very simple to use and one previous demo experiment for this is here: aether://experiments/570090bb-90b3-4fb6-a2b6-8cf55a62ff97
​[4:31 PM] Yuancheng Tu
    As of the recursive K-means, it works the best when input dimension is small, for example, when using Glove-100; For Bert related model, for example, with Bert base 3072 dimension, it works well even with simple Kmeans algorithm

          
  <huangfu universal modeling>
  multiple turn hotfix
  
  quality gating 吵了很久



[day 2]

[tao] how to test


mdp  sip   compliant  avalilbe through heron but needs to do lots of filters

multi turn queries can raise request

crowdsource example

big change so i can request


<haoda, YC>
AML

AML slice
https://nam06.safelinks.protection.outlook.com/?url=https%3A%2F%2Fmicrosoftapc.sharepoint.com%2Fteams%2FCLU705-UUScienceBootcampSeries%2F_layouts%2FOneNote.aspx%3Fid%3D%252Fteams%252FCLU705-UUScienceBootcampSeries%252FShared%2520Documents%252FUU%2520Science%2520Bootcamp%2520Series%252FMSAI%2520UU%2520Science%2520Team%2520Bootcamp%26wd%3Dtarget%2528Planning.one%257CA745A153-EA3F-4B6E-8F16-9163BFE64932%252F%2529&data=04%7C01%7CChiehChun.Chang%40microsoft.com%7C7185b1ddfd424e04d57308d7ee289205%7C72f988bf86f141af91ab2d7cd011db47%7C1%7C0%7C637239730337331959%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C-1&sdata=2TTmmfjB0ZBZvSN%2B5k9wYfaZKu9t0lIDxGi1RAab85s%3D&reserved=0
video
https://msit.microsoftstream.com/video/2d1fa1ff-0400-96d1-8430-f1ea8bdfa1bb?referrer=https:%2F%2Fonenote.officeapps.live.com%2F

first time provides AML acconut and choose current subscription
non-compliant MSAI+SI

20:00:00
experiment
using  DevExperiementation
future we might create our owner workspace

same workspace people can share other
discusss in the future

up-right side
download config file
used in your python SDK

{
   "subscription_id" : 
    xxx
    xxx
}

Azure storage account

create new storage account
https://docs.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal#create-a-storage-account

it is needed if you job is too large, so locally will be very slow
https://microsoft.sharepoint.com/teams/CortanaCore/_layouts/15/Doc.aspx?sourcedoc={6d6ae133-c9c8-400d-bfd8-ae8feec6ff9f}&action=edit&wd=target%28LU%20Modeling%20and%20Partners%2FCommunication.one%7C05355131-d153-4b5e-953b-c6c8330aecd7%2FAzure%20ML%20storage%20account%7C614e6919-6db6-40a2-aea1-0f442b02cb96%2F%29
? but i cannot create account and find this resource group name 
Resource group name
AML_Playground


for non-compliant AI+MSAI experiment
The client 'chiecha@microsoft.com' with object id '1f1d1c30-d0c2-4ee0-9f1f-6d25e6f01577' 
does not have authorization to perform action 'Microsoft.Resources/deployments/validate/action' 
要加入MSAI Azure DevExp security group
storage 要選azure blob storage (雖然one note 不是這樣寫)
目前已經建好
chiecha

然後必須要建一個default container
可以用
https://ms.portal.azure.com/
or 
用這個app create 更快一些
要安裝
https://azure.microsoft.com/en-us/features/storage-explorer/#getting-started
左上角的人要login credentail veriy -> pop up 一堆  然後點apply
左上角的setting ->  'Non-compliant MSAI+SI Experimentation' -> storage acconuts -> chiecha -> blob containners -> 'container name you create'



datastore link

likn 你的datastore 的container
https://microsoftapc.sharepoint.com/teams/CLU705-UUScienceBootcampSeries/_layouts/15/Doc.aspx?sourcedoc={09203e35-0832-4c48-9f93-2909076b9b25}&action=edit&wd=target%28April%202020%20Content.one%7C8c11bb3a-2598-488c-9089-34d99634d329%2FCreate%20Azure%20ML%20Storage%20Account%7C6164290e-b658-4e19-8238-06bbfbf45267%2F%29
create datastore called chiecha_datastore

access key 要從ms.portal.azure.com  account 裡面的access key 來copy



then 就可以開始notebook 然後submit job
notebooks
0:35:24

how about to submit a job?


data sotre 要自己import (if registered by protal already) 
from azureml.core import Datastore
ds = Datastore.get(ws, 'chiecha_datastore')

然後可以用
microsoft azure storage explorer 來看data for blob 然後砍檔案



pytorch estimator
https://docs.microsoft.com/zh-tw/azure/machine-learning/how-to-train-pytorch

this is example for submitting a job
https://msasg.visualstudio.com/LanguageUnderstanding/_git/compliant-lu?path=%2Fnotebooks%2FAzureML_deep_dive.ipynb&_a=preview

time to detect conda
https://code.visualstudio.com/docs/python/environments#_activating-an-environment-in-the-terminal



terminal spliting hot key in vscode
You can also split the terminal by triggering the Ctrl+Shift+5 


default conda
https://allen108108.github.io/blog/2019/10/13/%E5%B0%87%20VS%20Code%20%E7%B5%82%E7%AB%AF%E6%A9%9F%E9%A0%90%E8%A8%AD%E6%88%90%E7%82%BA%20Anaconda%20Prompt/
miniconda default conda 差別

安裝
後來直接開另外個anaconda 的視窗來完成了
就不用vs code 的default 以後再說
這樣可以安裝 然後有jupiter notebook
conda activate azureml  <= azureml 因該是類似environment

restart vscode

從選virtual environment
就找的到了



snippert two
找workspace 找都找不到
login 會開web page login 但是沒有workspace access 的樣子


https://yq.aliyun.com/articles/623166

aether cannpt turn on hyper parameter

MSAI no deep learning to QAS,but there is something caryying on
polimar

compliance discusssion about B2

studio . azure shared
regresitration has been shared

有non compliant substription
?  我好向沒有選

azure storage account is necessary to store data

good plug in

azuer extention


setup environment
 cache mechnism
 channig packge then it might be different
 
 
hyper parameter tuning


dependency packages
  aether to submot for dependency packages
  
  
 compliant-lu  repo
 
 
 experiement study
 
 
 share data one case
 
 auzre document
 
 <Raj>
 deploy models
 
 brownbag
 
 
 dashbarod after dpeloyment to check
 
 
 search placeholder
  SDF_v2 -> MSIT -> SIP -> WW
 
 deployment tracker
    show where it is 
 
 memeoy
     met1:
       normal way
     met2 :
         memory delta
     met3:
        two batch QAS portal  there is memory colmun but usually suggeting going with met1 / met2
	 
	
	
  capacity requests
     only if you onboard a new models
  
  
  there is picutre for that
  
  MSSearch
    for world wide ring 
    
    deployment video
    how to deug a dataset
    deployment tracker
    33:00 can select dataSet
    https://msit.microsoftstream.com/video/8c30a1ff-0400-96d1-7c8f-f1ea8befb2f3
    
    left side 
    select qas -> GriffinB2HttpQAS -> data ->  
    right side(depending on envioronment) -> click wheel (a column pop out) -> DatasetVersion(filtering by number)
    number from QAS patch track deployment 'number'
    
     有什麼deployment 會fail 在某一個ring (ex: sip)
     不需要resubmit patch, 可以用下面的方式track
     
     但是這個checked in 會在下一個patch 一起被apply
     Also, we have partner DRI contacts now to help with specific scenarios (yours would be under M365Search). 
     It will be quicker to tag them and get a response (via mail or stackoverflow): 
     https://msasg.visualstudio.com/qas/_wiki/wikis/QAS.wiki/53845/QAS-Partner-Contacts
     可以send to QASDRI (alias ) or ping Alisha Sonawalla 就可以resolve
     
    
  Torus tool
     sinlge machine testing 
     
     
   a nice way to track rollowing by dataset <must see>
   	dataset filter
	dataset number doj>
	   change list number , change it (not batch id on portal)
	   
	one machine does not roll out successfulyly, how can we tell?
	
	
 <minwoo>
 A/B flight
 good link for A/B test flight
 
 no covered in search assitant
 
 same as what i learnt from Yue
 
 
 join approval group 
    highly join
    
    
 a way to setup experiement 
     logical roll out
         alwawys 100, not real deployment
	 easy to roll back  .15 rolls back
	 discuss?
	    two ways rolling out
	    how to reduce impact?
	    engineer flight
	       ?
	    our teams flight
	        ?
	    
     A/B test
     
     
     approval group
        one person can only be one approval group
	
      
      cortan score card
          only latency
	  
	  you can select range
	  
	  
  <yue rak>
  
   part 1:
   assistatnt
   debug
   
   kusto queries
   
   ranking socre queires
   
   having hotfi format
   
   
   clustudio promote example
   
   
   part 2:
   search
   usualy not  queries unless users provide 
   
   
   
   runtime debug
   
   <eric> 
   ranker
     hard to train
      so might ne havnig reranker + selector
     
   reranker?
    to differential web navtiaon and web
   
   rannker envience
      features 
   
   model:
   fast rank
      fask rank is easy to adape to new domains not yet being trained
      
      can add decision to final result
      
   gradient boost descisino tree
   
   features
     general
     
   selector
      rule based selector
      added by STCA team
   
